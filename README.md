# Procedural Log Generator

This repository contains two main scripts:

- **`params.py`** – a Tkinter GUI for editing procedural‐log parameters and exporting them as JSON.  
- **`logs.py`** – a Blender Python script embedded in `Blender script.blend` that reads all JSON files in `parameters/`, generates procedurally modeled logs with PBR materials, UV‐unwraps them, and exports each as both `.blend` and `.glb`.

---

## Prerequisites

1. **Blender**  
   - Version 3.0 or newer (tested on 3.x).  
   - Ensure you can launch Blender normally from your desktop or command line.  
2. **System Python** (for `params.py`)  
   - Python 3.7+ with the **Tkinter** library installed (for the GUI).  
   - On many systems, Tkinter is bundled. If not, install via your package manager.
3. **No additional Python packages** are required—both scripts rely only on Blender’s built-in modules (`bpy`, `bmesh`, `mathutils`) and the Python standard library.

---

## Directory Layout

```
Seminarska/
├── textures/
│   ├── 1/
│   │   ├── Color.jpg
│   │   ├── Normal.jpg
│   │   ├── Roughness.jpg
│   │   ├── Displacement.jpg
│   │   └── CS.png
│   └── … (2 through 6)
├── parameters/                     ← JSON files generated by params.py
├── blends/                         ← .blend outputs (auto-created)
├── glbs/                           ← .glb outputs (auto-created)
├── params.py                       ← Parameter editor GUI
├── Blender script.blend            ← Blender file containing `logs.py` in its Text Editor
└── images/                         ← screenshots and documentation figures
```

- **`textures/1` … `textures/6`**  
  Each folder holds a set of PBR maps for bark plus `CS.png` for the end cap.

- **`parameters/`**  
  Drop your `.json` parameter files here. Each JSON should follow the schema expected by `logs.py`.

- **`blends/`** & **`glbs/`**  
  These folders will be created automatically when you run the script inside Blender.

---

## 1. Editing Parameters (`params.py`)

1. Open a terminal and navigate to the `Seminarska/` directory.
2. Run the parameter editor:
   ```bash
   python3 params.py
   ```
3. The GUI will display fields for all supported parameters (length, radii, grooves, noise, etc.), with tooltips and value ranges.
4. Adjust parameters as desired, then click **Save**.  
5. A JSON file named `<name>.json` will be written into the `parameters/` folder.


---

## 2. Generating Logs in Blender

1. Ensure you have at least one JSON file in `parameters/`.
2. Open **Blender** and load `script.blend`.
3. In the Text Editor panel inside Blender, open the embedded `logs.py` text block.
4. At the top of `logs.py`, set the correct paths:
   ```python
   SEMINARSKA_DIR = r"C:\Users\YourUser\Path\to\Seminarska"
   PARAM_DIR      = os.path.join(SEMINARSKA_DIR, "parameters")
   OUTPUT_BLEND_FOLDER = os.path.join(SEMINARSKA_DIR, "blends")
   OUTPUT_GLB_FOLDER   = os.path.join(SEMINARSKA_DIR, "glbs")
   TEXTURES_DIR = os.path.join(SEMINARSKA_DIR, "textures")
   ```
5. Save the Text Block (Ctrl+S in the Text Editor).
6. With no objects selected, click **Run Script** (or press Alt+P) in the Text Editor.
7. The script will:
   1. Clear the current scene.  
   2. Load each JSON in `parameters/`.  
   3. Build the log mesh (taper, grooves, noise, twist, etc.).  
   4. Create and assign PBR bark and cap materials.  
   5. UV‐unwrap all objects.  
   6. Save a `.blend` in `blends/`.  
   7. Export a `.glb` in `glbs/`.  

7. Inspect the `blends/` and `glbs/` folders for your generated assets.

---
